# 관계<sup>Relation</sup>
## 기초용어
**순서쌍**은 원소들을 표현하는 방법으로, 원소들 사이에 순서를 갖는 것을 말한다.
>(A,B,C,D)

**곱집합** AxB는 공집합이 아닌 임의의 두 집합 A, B에 대한 모든 순서쌍 (a,b)들의 집합을 말한다.

A에서 B로 가는 관계 R에 대하여 R에 속한 순서쌍에서 모든 첫 번째 원소의 집합을 **정의역**이라 하고, 모든 두 번째 원소의 집합을 **치역**이라 한다. 또한, 집합 B의 전체 원소를 **공변역**이라 한다.

## 관계의 정의
**이항 관계**는 집합 A,B에 대하여 A에서 B로 가는 관계를 말한다. 즉, 곱집합 AxB의 부분집합들이다. 또한 a와 b의 관계는 aRb 식으로 나타낸다.

**항등 관계**는 임의의 집합 A에 대하여 A에 관한 관계 R={(a,a)|임의의 A원소 a}이다.

## 관계의 표현
각 원소를 정점으로 갖고 방향을 갖는 간선을 가진 그래프를 **유향 그래프**라고 한다.

유향 그래프 상에서 관계를 **a에서 b까지의 길이 n인 경로**로 표현 가능하며 이는 <sub>a</sub>R<sup>n</sup><sub>b</sub>와 같이 나타낸다.

유향 그래프 상에서 두 정점 사이에 도달 관계가 성립하면 이를 **강하게 연결**되었다고 표현한다.

### 부울곱을 활용해 길이 n인 경로 찾기
관계 행렬을 부울 n제곱 하여 길이가 n인 경로를 찾을 수 있다. 부울곱은 아래와 같이 수행한다.

>c<sub>ij</sub> = (a<sub>i1</sub>∧b<sub>1j</sub>)∨(a<sub>i2</sub>∧b<sub>2j</sub>)∨...∨(a<sub>in</sub>∧b<sub>nj</sub>)

### 경로의 조작
두 경로 a,b의 시작점과 끝점이 각각 같으면 두 경로의 **합성**이 가능하다.

또한, 경로를 뒤집으면 **역경로**라 하며, a<sup>-1</sup>처럼 나타낸다.

## 관계의 성질
### 반사, 비반사 관계
모든 A의 원소 a에 대하여, 모든 aRa를 만족하면 **반사관계**라 한다.

모든 A의 원소 a에 대하여, 모든 aRa가 불만족하면 **비반사관계**라 한다.

### 대칭, 비대칭, 반대칭 관계
A의 원소 a,b에 대하여,
- aRb일 때, bRa 가 성립하면 **대칭 관계**라 한다.
- aRb는 성립할 때, bRa가 성립하지 않으면 **비대칭 관계**라 한다.
- aRb와 bRa가 성립할 때, a=b이면 **반대칭 관계**라 한다.

### 추이 관계
A의 원소 a,b,c에 대하여, aRb, bRc 일 때, aRc가 만족하면 **추이 관계**이다.

### 동치 관계
A에 관한 관계 R이 반사 관계, 대칭 관계, 추이 관계를 만족하면 **동치 관계**라 한다.

## 역관계와 합성 관계
A에서 B로의 관계 R에 대하여, B에서 A로의 관계를 **역관계**라 하고, R<sup>-1</sup>이라 한다.

R이 AxB의 부분집합일 때, R의 여집합을 **여관계**라 한다.

집합 A,B,C에 대하여, R은 A에서 B로의 관계이고, S는 B에서 C로의 관계라 할 때, R과 S의 **합성 관계**는 A에서 C로의 관계이다. 이는 관계 R과 S의 관계 행렬을 부울곱하여 얻을 수 있다.

## 연결 관계와 와샬 알고리즘
### 닫힘
관계 R에 대하여 R이 가질 수 있는 성질을 P라고 할 때, R을 포함하고 P 조건을 만족하는 관계를 R에 대한 P 닫힘 이라고 한다.

관계 R을 포함하고 반사 관계를 만족하는 가장 작은 관계 R<sub>1</sub>를 R의 **반사 닫힘**이라 한다.

이와 유사하게 **대칭 닫힘**이 있다. 

R이 A에 관한 관계라 하면 R<sup>INF</sup> (연결관계)은 R의 **추이 닫힘**이다.

### 와샬 알고리즘
관계 행렬을 이용해 연결 관계를 구할 때 사용.



### 가장 작은 동치 관계
R과 S를 집합 A에 관한 동치 관계라 할 때, R과 S를 둘 다 포함하는 가장 작은 동치 관계는
연결 관계 **(R U S)<sup>INF</sup>** 이다.
